/* ============================================
   ESTILOS PARA LIBRO DE POSTGIS
   Diseño limpio y minimalista inspirado en Slidecrafting
   ============================================ */

/* Importación de fuentes desde Google Fonts */
/* Dosis: fuente sans-serif moderna y legible para texto general */
/* Source Code Pro: fuente monoespaciada para código */
@import url("https://fonts.googleapis.com/css2?family=Dosis:wght@300;400;500;600;700&family=Source+Code+Pro:wght@400;500;600&display=swap");

/* ============================================
   VARIABLES CSS GLOBALES
   Definición centralizada de colores y fuentes para fácil mantenimiento
   ============================================ */
:root {
  /* Colores de fondo y texto principal */
  --body-bg: #ffffff; /* Fondo blanco para el contenido principal */
  --body-color: #212529; /* Gris oscuro para texto, mejor que negro puro para legibilidad */

  /* Colores de la barra lateral */
  --sidebar-bg: #f8f9fa; /* Gris muy claro para diferenciar del contenido */

  /* Colores de enlaces */
  --link-color: #0d6efd; /* Azul Bootstrap para enlaces normales */
  --link-hover: #0a58ca; /* Azul más oscuro para efecto hover */

  /* Colores de encabezados */
  --heading-color: #212529; /* Mismo color que el texto para consistencia */

  /* Colores para bloques de código */
  --code-bg: #f8f9fa; /* Fondo gris claro para resaltar código */
  --code-color: #d63384; /* Rosa para código inline */

  /* Familias de fuentes */
  --font-family-sans-serif: "Dosis", sans-serif; /* Fuente para texto normal */
  --font-family-monospace:
    "Source Code Pro", monospace; /* Fuente para código */
}

/* ============================================
   BLOQUE DE TÍTULO
   Estiliza el área del título principal de cada página
   ============================================ */
.quarto-title-block {
  margin-bottom: 2rem; /* Espacio debajo del título para separarlo del contenido */
  padding: 1.5rem 0; /* Relleno vertical para dar aire al título */
  border-bottom: 1px solid #dee2e6; /* Línea separadora sutil debajo del título */
}

/* ============================================
   ESTILOS DEL CUERPO PRINCIPAL
   Define la apariencia base de todo el documento
   ============================================ */
body {
  font-family: var(
    --font-family-sans-serif
  ); /* Aplica la fuente Dosis a todo el texto */
  color: var(--body-color); /* Color de texto principal */
  background-color: var(--body-bg); /* Fondo blanco */
  font-size: 1.2rem; /* Tamaño de fuente más grande para mejor legibilidad */
  line-height: 1.75; /* Altura de línea generosa para facilitar la lectura */
  -webkit-font-smoothing: antialiased; /* Suavizado de fuentes en navegadores WebKit (Safari, Chrome) */
  -moz-osx-font-smoothing: grayscale; /* Suavizado de fuentes en Firefox para Mac */
}

/* ============================================
   ENCABEZADOS (h1-h6)
   Define la jerarquía visual del contenido
   ============================================ */

/* Estilos compartidos por todos los encabezados */
h1,
h2,
h3,
h4,
h5,
h6 {
  font-family: var(
    --font-family-sans-serif
  ); /* Misma fuente que el cuerpo para consistencia */
  font-weight: 600; /* Peso semibold para destacar sin ser demasiado fuerte */
  color: var(--heading-color); /* Color de encabezados */
  margin-top: 2rem; /* Espacio antes del encabezado para separar secciones */
  margin-bottom: 1rem; /* Espacio después del encabezado */
  line-height: 1.2; /* Altura de línea reducida para encabezados */
}

/* Encabezado de nivel 1 - Títulos principales de páginas */
h1 {
  font-size: 3rem; /* Tamaño más grande para máximo impacto visual */
  border-bottom: none; /* Sin línea inferior para diseño limpio */
  padding-bottom: 0.5rem; /* Pequeño espacio interno inferior */
}

/* Encabezado de nivel 2 - Secciones principales */
h2 {
  font-size: 2.4rem; /* Tamaño grande pero menor que h1 */
  border-bottom: none; /* Sin línea inferior */
  padding-bottom: 0.3rem; /* Espacio interno inferior */
}

/* Encabezado de nivel 3 - Subsecciones */
h3 {
  font-size: 1.8rem; /* Tamaño intermedio */
  color: var(--heading-color); /* Color consistente */
}

/* Ocultar iconos de anclaje en encabezados */
/* Estos iconos (#) aparecen al pasar el mouse sobre encabezados */
/* Los ocultamos para mantener un diseño más limpio */
.anchored .anchorjs-link,
.anchored .anchor-link {
  display: none !important; /* !important asegura que se oculten en todos los casos */
}

/* ============================================
   BLOQUES DE CÓDIGO
   Estiliza el código fuente SQL, Python, etc.
   ============================================ */

/* Bloques de código multilínea (pre) */
/* Se usa para mostrar ejemplos de código SQL, scripts, etc. */
pre {
  background: var(--code-bg); /* Fondo gris claro para distinguirlo del texto */
  color: #212529; /* Color de texto oscuro para el código */
  border: 1px solid #dee2e6; /* Borde sutil para delimitar el bloque */
  border-radius: 0.375rem; /* Esquinas redondeadas para suavizar el diseño */
  padding: 1rem; /* Espacio interno para que el código respire */
  font-family: var(
    --font-family-monospace
  ); /* Fuente monoespaciada para alinear el código */
  font-size: 1rem; /* Tamaño de fuente estándar para código */
  line-height: 1.6; /* Altura de línea para separar líneas de código */
  overflow-x: auto; /* Scroll horizontal si el código es muy largo */
}

/* Código inline (dentro de párrafos) */
/* Ejemplo: "Usa la función `ST_Intersects()` para..." */
code {
  background-color: var(--code-bg); /* Fondo gris para resaltar */
  padding: 0.2rem 0.4rem; /* Pequeño relleno para separar del texto */
  border-radius: 0.25rem; /* Esquinas redondeadas sutiles */
  font-size: 0.95em; /* Ligeramente más pequeño que el texto normal */
  color: var(--code-color); /* Color rosa para distinguirlo */
  font-family: var(--font-family-monospace); /* Fuente monoespaciada */
}

/* Código dentro de bloques pre */
/* Ajusta estilos cuando <code> está dentro de <pre> */
pre code {
  background-color: transparent; /* Sin fondo porque pre ya tiene fondo */
  padding: 0; /* Sin padding extra */
  color: inherit; /* Hereda el color de pre */
  font-size: 1rem; /* Tamaño consistente con pre */
}

/* ============================================
   TABLAS
   Estiliza tablas de datos con diseño limpio y minimalista
   ============================================ */

/* Contenedor de tabla */
table {
  border-collapse: collapse; /* Elimina espacios entre bordes de celdas */
  width: 100%; /* Ocupa todo el ancho disponible */
  margin: 1.5rem 0; /* Espacio vertical antes y después de la tabla */
  font-size: 1.05rem; /* Tamaño de fuente ligeramente mayor */
}

/* Encabezado de tabla */
thead {
  background-color: #f8f9fa; /* Fondo gris claro para distinguir encabezados */
  border-bottom: 2px solid #dee2e6; /* Línea gruesa debajo del encabezado */
}

/* Celdas de encabezado */
th {
  padding: 0.75rem; /* Espacio interno en celdas de encabezado */
  font-weight: 600; /* Texto en negrita para destacar */
  text-align: left; /* Alineación a la izquierda */
  color: #495057; /* Color gris medio */
}

/* Celdas de datos */
td {
  padding: 0.75rem; /* Espacio interno en celdas de datos */
  border-bottom: 1px solid #dee2e6; /* Línea sutil entre filas */
}

/* Efecto hover en filas de datos */
/* Resalta la fila cuando el usuario pasa el mouse sobre ella */
tbody tr:hover {
  background-color: #f8f9fa; /* Fondo gris claro al pasar el mouse */
}

/* ============================================
   ENLACES (HIPERVÍNCULOS)
   Estiliza los links del documento
   ============================================ */

/* Estado normal de enlaces */
a {
  color: var(--link-color); /* Color azul Bootstrap para enlaces */
  text-decoration: none; /* Sin subrayado por defecto para diseño limpio */
}

/* Estado hover (cuando se pasa el mouse sobre el enlace) */
a:hover {
  color: var(--link-hover); /* Azul más oscuro para indicar interactividad */
  text-decoration: underline; /* Subrayado al pasar el mouse para feedback visual */
}

/* ============================================
   CALLOUTS (BLOQUES DE NOTAS/ALERTAS)
   Cuadros destacados para información especial
   ============================================ */

/* Estilo base para todos los callouts */
.callout {
  border-radius: 0.375rem; /* Esquinas redondeadas */
  padding: 1.25rem 1.5rem; /* Espacio interno para el contenido */
  margin: 1.5rem 0; /* Espacio vertical antes y después */
  border-left: 4px solid; /* Borde izquierdo grueso (color se define en cada tipo) */
  font-size: 1.15rem; /* Tamaño de fuente más grande */
  line-height: 1.75; /* Mejor espaciado entre líneas */
  max-width: 100%; /* No exceder el ancho del contenedor */
  box-sizing: border-box; /* Incluir padding en el cálculo del ancho */
  overflow-wrap: break-word; /* Permitir que el texto largo se rompa */
}

/* Callout tipo NOTA - Para información general */
.callout-note {
  border-left-color: #0d6efd; /* Borde azul */
  background-color: #cfe2ff; /* Fondo azul claro */
}

/* Callout tipo TIP - Para consejos y sugerencias */
.callout-tip {
  border-left-color: #198754; /* Borde verde */
  background-color: #d1e7dd; /* Fondo verde claro */
}

/* Callout tipo WARNING - Para advertencias */
.callout-warning {
  border-left-color: #ffc107; /* Borde amarillo */
  background-color: #fff3cd; /* Fondo amarillo claro */
}

/* Callout tipo IMPORTANT - Para información crítica */
.callout-important {
  border-left-color: #dc3545; /* Borde rojo */
  background-color: #f8d7da; /* Fondo rojo claro */
}

/* Títulos dentro de callouts */
.callout-header,
.callout-title,
.callout > .callout-body > p:first-child > strong:first-child {
  font-size: 1.25rem; /* Tamaño mayor para títulos */
  font-weight: 600; /* Negrita */
  margin-bottom: 0.5rem; /* Espacio debajo del título */
  display: block;
}

/* Contenido del callout */
.callout-body {
  font-size: 1.15rem; /* Tamaño consistente con el callout */
}

/* Listas dentro de callouts */
.callout ul,
.callout ol {
  font-size: 1.15rem; /* Tamaño de fuente mayor */
  line-height: 1.75; /* Mejor espaciado */
  margin-top: 0.75rem;
  margin-bottom: 0.75rem;
  padding-left: 1.5rem;
}

.callout li {
  margin-bottom: 0.5rem; /* Espacio entre elementos de lista */
}

/* Párrafos dentro de callouts */
.callout p {
  font-size: 1.15rem;
  line-height: 1.75;
  margin-bottom: 0.75rem;
}

/* ============================================
   LISTAS (UL, OL)
   Listas con viñetas y numeradas
   ============================================ */

/* Listas generales */
ul,
ol {
  font-size: 1.15rem; /* Tamaño de fuente aumentado */
  line-height: 1.75; /* Mejor espaciado entre líneas */
  margin: 1rem 0;
  padding-left: 2rem;
}

/* Elementos de lista */
li {
  margin-bottom: 0.5rem; /* Espacio entre elementos */
}

/* Listas anidadas */
li ul,
li ol {
  margin-top: 0.5rem;
  margin-bottom: 0.5rem;
}

/* ============================================
   SIDEBAR (BARRA LATERAL DE NAVEGACIÓN)
   Panel izquierdo con el índice del libro
   ============================================ */

/* Contenedor principal del sidebar */
.sidebar {
  background-color: var(
    --sidebar-bg
  ); /* Fondo gris claro para diferenciar del contenido */
  border-right: 1px solid #dee2e6; /* Línea divisoria a la derecha */
  font-size: 1.1rem; /* Tamaño de fuente ligeramente mayor */
}

/* Cada elemento de la lista del sidebar */
.sidebar-item {
  padding: 0.1rem 0; /* Pequeño espacio vertical entre items */
}

/* Enlaces dentro del sidebar */
.sidebar-item a {
  color: #495057; /* Color gris medio para los enlaces */
  padding: 0.3rem 0.5rem; /* Espacio interno para hacer los enlaces más clicables */
  display: block; /* Ocupa todo el ancho disponible */
  border-radius: 0.25rem; /* Esquinas redondeadas sutiles */
  font-size: 1.25rem; /* Tamaño de fuente consistente */
  line-height: 1.4; /* Altura de línea para mejor legibilidad */
}

/* Estado hover de enlaces en sidebar */
.sidebar-item a:hover {
  background-color: #e9ecef; /* Fondo gris al pasar el mouse */
  text-decoration: none; /* Sin subrayado en hover */
}

/* Item activo (página actual) en el sidebar */
.sidebar-item-active > a {
  background-color: #e9ecef; /* Fondo gris para indicar página actual */
  font-weight: 600; /* Texto en negrita para destacar */
}

/* Sidebar del margen derecho con tabla de contenidos */
/* Controla el tamaño de fuente del panel lateral derecho que muestra */
/* la tabla de contenidos de la página actual para navegación rápida */
.margin-sidebar {
  font-size: 1.05rem; /* Tamaño reducido para mejor ajuste */
}

/* Tabla de contenidos del margen derecho */
.margin-sidebar .toc-actions,
.margin-sidebar nav,
.margin-sidebar #TOC {
  font-size: 1.05rem;
}

/* Enlaces en el sidebar derecho (TOC) */
.margin-sidebar a {
  font-size: 1.05rem;
  line-height: 1.5;
}

/* Encabezado "On this page" o "Contenido" en sidebar derecho */
#toc-title {
  font-size: 1.15rem;
  font-weight: 600;
}

/* Título del libro en sidebar */
/* Controla el tamaño del nombre del libro en la parte superior del sidebar */
.sidebar-title,
.sidebar h1 {
  font-size: 1.2rem; /* Tamaño moderado, no muy grande */
  line-height: 1.4; /* Altura de línea para mejor legibilidad */
}

/* Tabla de contenidos en sidebar izquierdo */
/* Ajusta el tamaño de los items en la TOC (Table of Contents) */
.sidebar-section-item {
  font-size: 1.1rem; /* Tamaño consistente con el sidebar */
}

/* Campo de búsqueda en sidebar */
/* Estiliza la caja de búsqueda que aparece en el sidebar */
.sidebar .form-control {
  font-size: 1rem; /* Tamaño estándar para el campo de búsqueda */
}

/* Estilos adicionales para el sidebar derecho */
/* Asegura que todos los elementos tengan el tamaño correcto */
.page-columns .column-margin,
.page-columns .margin-caption {
  font-size: 1.05rem;
}

/* Listas en el sidebar derecho */
.margin-sidebar ul,
.margin-sidebar ol {
  font-size: 1.05rem;
  line-height: 1.5;
}

.margin-sidebar li {
  margin-bottom: 0.3rem;
}

/* Encabezados en el sidebar derecho */
.margin-sidebar h2,
.margin-sidebar h3,
.margin-sidebar h4 {
  font-size: 1.05rem;
}

/* ============================================
   PIE DE PÁGINA (FOOTER)
   Información al final de cada página
   ============================================ */
.page-footer {
  border-top: 1px solid #dee2e6; /* Línea separadora en la parte superior */
  padding-top: 1.5rem; /* Espacio entre la línea y el contenido del footer */
  margin-top: 3rem; /* Espacio grande antes del footer */
  color: #6c757d; /* Color gris para texto secundario */
  font-size: 0.875rem; /* Tamaño de fuente más pequeño que el contenido principal */
}

/* ============================================
   CONTENIDO PRINCIPAL
   Área donde se muestra el texto de cada página
   ============================================ */

/* Contenedor de Quarto para el contenido */
#quarto-content {
  max-width: 100%; /* Usa todo el ancho disponible */
}

/* Elemento main que contiene el contenido de la página */
main {
  padding: 2rem 3rem; /* Espacio interno: 2rem arriba/abajo, 3rem izquierda/derecha */
  max-width: 100%; /* Usa todo el ancho disponible */
}

/* Prevenir desbordamiento en todos los elementos del contenido */
main > *,
.page-columns > *,
.column-body > * {
  max-width: 100%;
  box-sizing: border-box;
}

/* Asegurar que los divs HTML personalizados no se desborden */
main div,
.hero-cta {
  max-width: 100%;
  box-sizing: border-box;
}

/* ============================================
   BÚSQUEDA
   Campo de búsqueda en la parte superior
   ============================================ */
#quarto-search {
  border-radius: 0.375rem; /* Esquinas redondeadas */
  border: 1px solid #dee2e6; /* Borde gris claro */
}

/* ============================================
   IMÁGENES
   Estiliza las imágenes insertadas en el documento
   ============================================ */
img {
  max-width: 100%; /* No excede el ancho del contenedor (responsive) */
  height: auto; /* Altura automática para mantener proporciones */
  border-radius: 0.375rem; /* Esquinas redondeadas sutiles */
  margin: 1rem 0; /* Espacio vertical antes y después de la imagen */
}

/* ============================================
   MAPAS INTERACTIVOS
   Contenedores para mapas embebidos (Leaflet, QGIS, etc.)
   ============================================ */
.map-frame {
  width: 100%; /* Ocupa todo el ancho disponible */
  height: 500px; /* Altura fija de 500px para visualización adecuada */
  border: 1px solid #dee2e6; /* Borde gris para delimitar el mapa */
  border-radius: 0.375rem; /* Esquinas redondeadas */
  margin: 1.5rem 0; /* Espacio vertical antes y después del mapa */
}

/* ============================================
   CITAS (BLOCKQUOTES)
   Bloques de texto citado o destacado
   ============================================ */
blockquote {
  border-left: 4px solid #dee2e6; /* Borde izquierdo grueso para indicar cita */
  padding-left: 1rem; /* Espacio interno a la izquierda */
  margin: 1.5rem 0; /* Espacio vertical antes y después */
  font-style: italic; /* Texto en cursiva para distinguir del contenido normal */
  color: #6c757d; /* Color gris para texto secundario */
}

/* ============================================
   NAVEGACIÓN ENTRE CAPÍTULOS
   Botones "Anterior" y "Siguiente" al final de cada página
   ============================================ */
.nav-page {
  padding: 0.75rem 0; /* Espacio interno vertical */
  margin-top: 3rem; /* Espacio grande antes de la navegación */
  border-top: 1px solid #dee2e6; /* Línea separadora en la parte superior */
}

/* ============================================
   DISEÑO RESPONSIVE (ADAPTABLE A MÓVILES)
   Ajustes para pantallas pequeñas (tablets y teléfonos)
   ============================================ */
@media (max-width: 768px) {
  /* Reduce tamaño de h1 en pantallas pequeñas */
  h1 {
    font-size: 2rem; /* De 3rem a 2rem para que quepa mejor */
  }

  /* Reduce tamaño de h2 en pantallas pequeñas */
  h2 {
    font-size: 1.5rem; /* De 2.4rem a 1.5rem */
  }

  /* Reduce padding del contenido principal en móviles */
  main {
    padding: 1rem; /* De 2rem 3rem a 1rem en todos los lados */
  }
}

/* ============================================
   SISTEMA DE COLUMNAS FLEXIBLES
   Permite crear layouts de múltiples columnas
   ============================================ */

/* Contenedor de columnas */
/* Usa Flexbox para distribuir columnas horizontalmente */
div.columns {
  display: flex; /* Activa el sistema de flexbox */
  gap: 1.5rem; /* Espacio de 1.5rem entre columnas */
}

/* Cada columna individual */
div.column {
  flex: auto; /* Cada columna toma el espacio disponible equitativamente */
  overflow-x: auto; /* Scroll horizontal si el contenido es muy ancho */
}
